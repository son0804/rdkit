project GraphMol/SmilesParse : : ;
import os ;
import bison ;
import lex ;

local RDBASE = [ os.environ RDBASE ] ;


lib SmilesParse : lex.yysmiles.cpp   smiles.tab.cpp lex.yysmarts.cpp smarts.tab.cpp InputFiller.cpp SmilesParse.cpp SmilesParseOps.cpp SmilesWrite.cpp SmartsWrite.cpp
  : <include>. ;

cpp lex.yysmiles.cpp : smiles.ll : <flex.prefix>yysmiles_ ;
cpp smiles.tab.cpp : smiles.yy : <bison.prefix>yysmiles_ <implicit-dependency>lex.yysmiles.cpp ;
cpp lex.yysmarts.cpp : smarts.ll : <flex.prefix>yysmarts_ ;
cpp smarts.tab.cpp : smarts.yy : <bison.prefix>yysmarts_ <implicit-dependency>lex.yysmarts.cpp ;

exe test : test.cpp SmilesParse /RDKit//GraphMol /RDKit//RDGeneral /RDKit//Geometry /RDKit//lapacklibs ;
#exe smatest : smatest.cpp SmilesParse /RDKit//GraphMol /RDKit//RDGeneral /RDKit//Geometry ;


install regrs : test # smatest
  : <location>testExecs ;

install lib-install : SmilesParse : <location>$(RDBASE)/bin ;



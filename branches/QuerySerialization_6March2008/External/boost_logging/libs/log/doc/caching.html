<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Boost Log Library Documentation</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
<a href="../../../index.htm">
<img align="left" src="../../../c++boost.gif" alt="C++ Boost">
</a>  

<h1>Boost Log Library Documentation</h1>
<p>
<h3 align="center">Version 1.4</h3>
<hr>



<p><b>Caching</b></p>
<p>Depending on your application, there are cases when you want to write to logs, 
  even before initializing them (that is, set their attributes: appenders/ modifiers/etc.). 
  For example, you might want to log from the constructor of a static object, 
  like this: </p>
<pre class="code">
struct widget {
  widget() {
    BOOST_LOG(app) << "one more widget!" << std::endl;  
  }
};

// static instance
widget g_w;
</pre>
<p>In order to allow this, Boost.Log library implements caching. </p>
<p>By default, at program start, the caching is <b>on</b>. </p>
<p>When caching is <i>on</i>, until you turned it off, every message written to 
  every log <i>is cached</i>. <br>
  When the cache is turned <i>off</i>, all cached messages are flushed: they are 
  written to their coresponding logs, and from this moment on, all messages are 
  written directly to the logs.</p>
<p>Thus, at application start, at the beginning of main(), after you manipulate 
  the logs (set their attributes: appenders/modifiers/etc), you should turn the 
  cache <i>on</i>. </p>
<p>Note that you can at any time turn the cache on or off, but you should turn 
  it on at the beginning of your application. </p>
<p>The syntax is as follows:</p>
<pre class="code">
using namespace boost::logging;
&nbsp;
// cache-limit ignored if do_cache is false
void set_log_caching(bool do_cache, int cache_limit = 256);
&nbsp;
// helper - equivalent to: set_log_caching(false);
void flush_log_cache();
</pre>
<p>If you set the log caching to true, you can set a cache limit. If for <i>any</i> 
  log, the number of messages exceeds this limit, caching is automatically turned 
  off. This is to prevent you from mistakingly forgetting to turn the caching 
  off (and shooting yourself in the foot). </p>
<p>&nbsp;</p>
<hr>
<small>
Copyright <a href="mailto:john&#64;torjo.com">John Torjo</a> &copy; 2004
</small>

</body>
</html>

#summary How to build the PostgreSQL cartridge
#labels cartridge

_The contents of this page are preliminary. If you have questions or suggestions, please leave a comment or send something to the mailing list._

= Requirements =

Compatibility: PostgreSQL 8.4+

It should be possible to build the cartridge using either a version of PostgreSQL built from source or a package from your linux distribution (be sure to include the -devel package).

Until the cartridge code is included in an RDKit release (Q3 2010), you also need to build the RDKit from subversion; earlier releases will not work.

= Compilation and Testing = 

The Makefile assumes that the RDKit is installed in $RDBASE. You will need $RDBASE/bin in your $LD_LIBRARY_PATH

Go to the cartridge directory: 
 
{{{
 cd $RDBASE/Code/PgSQL/rdkit
 make && make install && make installcheck 
}}}

The last step will take a few minutes. The last step will probably fail on debian-based linux distributions such as Ubuntu because of a [http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=554166 bug in their postgresql packages]. To run the tests there you will need to install postgresql from source.

= Adding the cartridge to a database =

Install rdkit cartridge into the database DB: 
   `psql DB < $RDBASE/Code/PgSQL/rdkit.sql`
or:
   `psql DB < /usr/share/postgresql/8.4/contrib/rdkit.sql`
the actual path in the second form depends on where postgresql is installed.

Uninstall rdkit cartridge from database DB:
   `psql DB < $RDBASE/Code/PgSQL/uninstall_rdkit.sql`
or:
   `psql DB < /usr/share/postgresql/8.4/contrib/uninstall_rdkit.sql`
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Boost Log Library Documentation</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
<a href="../../../index.htm">
<img align="left" src="../../../c++boost.gif" alt="C++ Boost">
</a>  

<h1>Boost Log Library Documentation</h1>
<p>
<h3 align="center">Version 1.4</h3>
<hr>



<p><b>Enabling/ Disabling Logs</b></p>
<p><font face="Courier New, Courier, mono"><b><font size="-1" color="#0000FF">Header 
  to include: <br>
  #include &lt;boost/log/functions.hpp&gt;</font></b></font></p>
<p>By default, all logs are enabled. In time, in order to make your application 
  faster or to simply disregard some module's logging - which you know is 100% 
  correct (by the way, do you have such a module?), you'll want to disable some 
  logs.</p>
<p>As a side note, knowing that logs have names - so that they're visible externally 
  -, you can keep a configuration file which dictates what logs are enabled and 
  what logs are disabled. At program start, load that configuration file and call 
  enable_logs/disable_logs as appropriate.</p>
<p>To enable logs simply call <i>enable_logs(log_names)</i>; to disable them call 
  <i>disable_logs(log_names)</i>:</p>
<pre class="code">
// disable all logs
disable_logs("*");

// enable all dbg logs
enable_logs("*dbg*");
</pre>
<p>When a message is written to a log, the first thing the Log library does is 
  ask whether that log is enabled. If it is, further processing takes place (<a href="modifier_logger.html">modifiers 
  and appenders</a> functions are called). If not, the whole processing of the 
  message is ignored. What this means is that any possibly time-costly functions 
  that would compose the message will <i>not</i><b> </b>be called, making the 
  library <b>very efficient</b>:</p>
<pre class="code">
std::string time_consuming_msg() {
    ...
}

BOOST_LOG(dbg) << time_consuming_msg() << ", i = " << i << std::endl;
</pre>
<p>If <i>dbg</i> log is enabled, the '&lt;&lt; time_consuming_msg() &lt;&lt; &quot;, 
  i = &quot; &lt;&lt; i &lt;&lt; std::endl;' will be executed. <br>
  If <i>dbg </i>log is disabled, <b>it will not be executed</b>. In particular, 
  if <i>dbg</i> log is disabled, time_consuming_msg() functions will not be called.</p>
<p>As an additional helper, you might sometimes need to know before computing 
  a large message whether a log is enabled or not (so that if the log is disabled, 
  you won't compute this message):</p>
<pre class="code">
// to avoid this:
// (which could be very time-consuming - acquiring the log one million times)
for (int idx = 0; idx < 1000000; ++idx)
    BOOST_LOG(app) << "message at idx " << idx << std::endl;

// you will want to do this:
// (very efficient)
if (BOOST_IS_LOG_ENABLED(app)) {
    std::ostringstream out;
    for (int idx = 0; idx < 1000000; ++idx)
        out << "message at idx " << idx << std::endl;
    BOOST_LOG(app) << out.str();
}
</pre>
<p>Thus, use <b>BOOST_IS_LOG_ENABLED</b>, as shown above.</p>
<p>&nbsp;</p>
<hr>
<small>
Copyright <a href="mailto:john&#64;torjo.com">John Torjo</a> &copy; 2004
</small>

</body>
</html>

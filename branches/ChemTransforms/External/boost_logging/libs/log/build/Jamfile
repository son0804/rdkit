# Boost Logging Library Build Jamfile

# (C) Copyright John Torjo 2004
# Use, modification, and distribution is subject to the Boost Software
# License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

# See home page at http://www.boost.org/

subproject libs/log/build ;

SOURCES = functions log log_manager ;


lib boost_log
     : ../src/$(SOURCES).cpp
     : # build requirements
       [ common-names ] # magic for install and auto-link features
       <runtime-link>static
       <include>$(BOOST_ROOT) 
       <include>D:/boost/boost_latest/boost/  # FIXME remove this!
       <sysinclude>$(BOOST_ROOT)
     : debug release  # build variants
     ;

dll boost_log
     : ../src/$(SOURCES).cpp
     : # build requirements
       [ common-names ] # magic for install and auto-link features
       <define>BOOST_LOG_SOURCE
       <define>BOOST_LOG_DYN_LINK=1  # tell source we're building dll's
       <runtime-link>dynamic
       <include>$(BOOST_ROOT) 
       <include>D:/boost/boost_latest/boost/  # FIXME remove this!
       <sysinclude>$(BOOST_ROOT)
     : debug release  # build variants
     ;


install log lib
     : <lib>boost_log <dll>boost_log
     ;

stage stage/lib : <lib>boost_log
    :
        # copy to a path rooted at BOOST_ROOT:
        <locate>$(BOOST_ROOT)
        # make sure the names of the libraries are correctly named:
        [ common-names ]
        # add this target to the "stage" and "all" psuedo-targets:
        <target>stage
        <target>all
    :
        debug release
    ;

# end
